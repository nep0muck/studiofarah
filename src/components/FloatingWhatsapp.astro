---
interface Props {
  whatsappNumber?: string;   // im Format 491711234567
  whatsappMessage?: string;
  label?: string;
}

const {
  whatsappNumber = "491711234567", // TODO: echte Nummer einsetzen
  whatsappMessage = "Hallo, ich interessiere mich für eine Behandlung und würde gerne einen Termin vereinbaren.",
  label = "Schreib uns auf WhatsApp"
} = Astro.props;

const whatsappHref = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(
  whatsappMessage
)}`;
---

<a
  href={whatsappHref}
  target="_blank"
  rel="noopener noreferrer"
  class="fixed bottom-4 right-4 z-40 inline-flex items-center gap-3 rounded-full bg-primary-deep px-4 py-3 text-xs font-medium text-bg shadow-lg shadow-primary-deep/40 ring-1 ring-primary-deep/70 transition
         hover:-translate-y-0.5 hover:bg-primary md:bottom-6 md:right-6"
  aria-label={label}
>
  <!-- Icon (generischer Chat-Bubble/Phone Mix) -->
  <span class="inline-flex h-9 w-9 items-center justify-center rounded-full bg-bg text-primary-deep shadow-inner shadow-primary-soft/40">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 24 24"
      class="h-5 w-5"
      aria-hidden="true"
    >
      <path
        d="M12 3a8 8 0 0 0-6.86 12.08L4 21l6.11-1.1A8 8 0 1 0 12 3Z"
        fill="currentColor"
        fill-opacity="0.95"
      />
      <path
        d="M9.5 9c.2-.5.3-.8.7-.9.3-.1.7-.1 1.1.3.4.5 1 1.6 1 1.6.1.3.2.6 0 .9-.2.2-.3.4-.5.6-.2.2-.1.4 0 .5.2.2.7.9 1.5 1.3.7.4 1 .5 1.2.4.3-.2.5-.6.7-.9.2-.3.5-.3.8-.2 0 0 1.4.7 1.6.8.2.1.4.2.4.4 0 .3-.1.9-.4 1.3-.3.5-.9.9-1.5.9-.6.1-1.5 0-2.5-.5-1.1-.5-1.9-1.1-2.8-2-0.9-.9-1.6-1.9-2.1-2.9-.4-1-.5-1.8-.4-2.4.1-.6.5-1.1.9-1.4Z"
        fill="white"
        fill-opacity="0.95"
      />
    </svg>
  </span>

  <span class="hidden text-[11px] uppercase tracking-[0.18em] text-bg/80 sm:inline">
    WhatsApp<br />
    Termin-Anfrage
  </span>
</a>
